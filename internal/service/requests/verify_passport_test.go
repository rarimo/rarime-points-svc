package requests

import (
	zkptypes "github.com/iden3/go-rapidsnark/types"
	"github.com/stretchr/testify/assert"
	"testing"
)

func TestExtractCountry(t *testing.T) {
	p := zkptypes.ZKProof{
		PubSignals: []string{"9072791962122059526608165338435582217583998249448445715859811865975207897521",
			"0",
			"0",
			"0",
			"0",
			"0",
			"5589842",
			"0",
			"0",
			"211985299740800702300256033401632392934377086534111448880928528431996790315",
			"6334216257887790546056750444971451489366652820049478976520311646899632086040",
			"6657866160187480897185968992500348980038797861763249572960971022605721484835",
			"23073",
			"55199728742705",
			"0",
			"1726052791",
			"0",
			"10",
			"52983525027888",
			"53009295421745",
			"55199728742705",
			"52983525027888",
			"52983525027888",
		},
	}

	code, err := ExtractCountry(p)
	assert.NoError(t, err)
	assert.Equal(t, "UKR", code)
}
